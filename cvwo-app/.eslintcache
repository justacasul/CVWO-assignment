[{"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/App.js":"1","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/TasksContainer.js":"2","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/index.js":"3","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/reportWebVitals.js":"4","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/TaskPage.js":"5","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/CategoryPage.js":"6","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/CategoriesPage.js":"7","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/TasksPage.js":"8","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/NewTask.js":"9","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/TasksLink.js":"10","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/CategoriesLink.js":"11","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/CategoriesContainer.js":"12","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/FormatDateFunction.js":"13","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/TaskForm.js":"14","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/NewCategory.js":"15","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/CategoryForm.js":"16","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/PageNotFound.js":"17","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/MiniCategoryForm.js":"18"},{"size":1580,"mtime":1610081764243,"results":"19","hashOfConfig":"20"},{"size":2867,"mtime":1610081764309,"results":"21","hashOfConfig":"20"},{"size":521,"mtime":1610081764324,"results":"22","hashOfConfig":"20"},{"size":375,"mtime":1610081764324,"results":"23","hashOfConfig":"20"},{"size":8096,"mtime":1610081764303,"results":"24","hashOfConfig":"20"},{"size":6103,"mtime":1610081764271,"results":"25","hashOfConfig":"20"},{"size":754,"mtime":1610081764257,"results":"26","hashOfConfig":"20"},{"size":734,"mtime":1610081764318,"results":"27","hashOfConfig":"20"},{"size":592,"mtime":1610081764289,"results":"28","hashOfConfig":"20"},{"size":369,"mtime":1610081764314,"results":"29","hashOfConfig":"20"},{"size":389,"mtime":1610081764252,"results":"30","hashOfConfig":"20"},{"size":2381,"mtime":1610081764248,"results":"31","hashOfConfig":"20"},{"size":702,"mtime":1610081764275,"results":"32","hashOfConfig":"20"},{"size":5436,"mtime":1610081764298,"results":"33","hashOfConfig":"20"},{"size":568,"mtime":1610081764285,"results":"34","hashOfConfig":"20"},{"size":1644,"mtime":1610081764262,"results":"35","hashOfConfig":"20"},{"size":326,"mtime":1610081764295,"results":"36","hashOfConfig":"20"},{"size":1605,"mtime":1610081764280,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"69cmv0",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/App.js",[],["77","78"],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/TasksContainer.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/index.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/reportWebVitals.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/TaskPage.js",["79"],"import React, {Component} from \"react\";\r\nimport axios from \"axios\";\r\nimport {formatDate} from \"./FormatDateFunction\";\r\nimport TasksLink from \"./TasksLink\";\r\nimport {Link} from \"react-router-dom\";\r\nimport CategoriesLink from \"./CategoriesLink\";\r\nimport update from 'immutability-helper'\r\nimport Dropdown from 'react-bootstrap/Dropdown'\r\nimport PageNotFound from \"./PageNotFound\";\r\nimport MiniCategoryForm from \"./MiniCategoryForm\";\r\n\r\nclass TaskPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            task: {},\r\n            categories: [],\r\n            allCategories: []\r\n        };\r\n    }\r\n\r\n    // use axios to get all tasks\r\n    getTask() {\r\n        const id = this.props.match.params.id;\r\n        axios.get('/tasks/' + id)\r\n            .then(response => {\r\n                this.setState({task: response.data})\r\n            })\r\n            .catch(error => {\r\n                if(error.response.status === 404) {\r\n                    this.set404()\r\n                }\r\n                console.log(error)\r\n            })\r\n\r\n    }\r\n\r\n    getCategories() {\r\n        const id = this.props.match.params.id;\r\n        axios.get('/tasks/' + id + '/categories/')\r\n            .then(response => {\r\n                this.setState({categories: response.data})\r\n                this.setCategoriesMessage()\r\n            })\r\n            .catch(error => console.log(error))\r\n    }\r\n\r\n    getAllCategories() {\r\n        axios.get('/categories/')\r\n            .then(response => {\r\n                this.setState({allCategories: response.data})\r\n            })\r\n            .catch(error => console.log(error))\r\n    }\r\n\r\n    set404() {\r\n        document.getElementById('notFound').style.display = '';\r\n        document.getElementById('pageFound').style.display = 'none';\r\n    }\r\n\r\n    setCategoriesMessage() {\r\n        if(this.state.categories.length===0) {\r\n            document.getElementById('has-categories').style.display = 'none';\r\n            document.getElementById('no-categories').style.display = '';\r\n        } else {\r\n            document.getElementById('no-categories').style.display = 'none';\r\n            document.getElementById('has-categories').style.display = '';\r\n        }\r\n    }\r\n\r\n    // automatically get all tasks\r\n    componentDidMount() {\r\n        this.getTask()\r\n        this.getCategories()\r\n        this.getAllCategories()\r\n    }\r\n\r\n    deleteTask = () => {\r\n        axios.delete(`/tasks/${this.state.task.id}`)\r\n            .then(() => {\r\n                this.props.history.push('/');\r\n            })\r\n            .catch(error => console.log(error))\r\n    }\r\n\r\n    removeCategoryFromTask = (category_id) => {\r\n        axios.delete(\r\n            `/tasks/${this.state.task.id}/categories/${category_id}`)\r\n            .then(() => {\r\n                const categoryIndex =\r\n                    this.state.categories.findIndex(\r\n                        x => x.id === category_id)\r\n                const categories = update(this.state.categories, {\r\n                    $splice: [[categoryIndex, 1]]\r\n                })\r\n                this.setState({\r\n                    categories: categories\r\n                })\r\n                this.setCategoriesMessage()\r\n            })\r\n            .catch(error => console.log(error))\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <TasksLink/>\r\n                <CategoriesLink/>\r\n\r\n                <div id=\"notFound\" style={{display: 'none'}}>\r\n                    <PageNotFound/>\r\n                </div>\r\n\r\n                <div id=\"pageFound\">\r\n                    <div className=\"header\">\r\n                        <h1>{this.state.task.name}</h1>\r\n                        {this.state.task.due\r\n                            ?<h4>by {formatDate(this.state.task.due)}</h4>\r\n                            :<h4/>\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"genericView\">\r\n                        <h3>{this.state.task.detail}</h3>\r\n                    </div>\r\n\r\n                    <div className=\"genericView\">\r\n                        <h3 id=\"has-categories\" style={{display: 'none'}}>\r\n                            This task belongs to the following categories:\r\n                        </h3>\r\n\r\n                        <h3 id=\"no-categories\">\r\n                            This task does not belong to any categories yet\r\n                        </h3>\r\n                        <div className=\"listWrapper\">\r\n                            <ul className=\"categoryList\">\r\n                                {this.state.categories.map((category) => {\r\n                                    return(\r\n                                        <li className=\"miniCategory\" category={category} key={category.id}>\r\n                                            <label className=\"categoryLabel\">\r\n                                                <Link to={`/categories/${category.id}`}>{category.name}</Link>\r\n                                            </label>\r\n                                            <button className=\"deleteBtn\"\r\n                                                    onClick={(e) =>\r\n                                                        this.removeCategoryFromTask(category.id)\r\n                                                    }\r\n                                            >\r\n                                                remove category from task\r\n                                            </button>\r\n                                        </li>\r\n                                    )\r\n                                })}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <MiniCategoryForm task={this.state.task} updateCategories={this.getCategories()}/>\r\n\r\n                    <Dropdown className=\"genericView\">\r\n                        <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n                                Add an existing category to the task\r\n                        </Dropdown.Toggle>\r\n\r\n                        <Dropdown.Menu>\r\n                            {this.state.allCategories\r\n                                .filter(\r\n                                    ( presentCategory ) => this.state.categories.findIndex(\r\n                                        x => x.id === presentCategory.id) < 0\r\n                                ).map(\r\n                                    (remainingCategory) => {\r\n                                        return(\r\n                                            <Dropdown.Item key={remainingCategory.id}\r\n                                                onClick={(e) =>\r\n                                                    axios.put(\r\n                                                        `/tasks/${this.state.task.id}/categories/${remainingCategory.id}`)\r\n                                                        .then(() =>\r\n                                                            this.getCategories()\r\n                                                        )\r\n                                                }\r\n                                            >\r\n                                                {remainingCategory.name}\r\n                                            </Dropdown.Item>\r\n                                )})}\r\n                        </Dropdown.Menu>\r\n                    </Dropdown>\r\n\r\n                    <div className=\"create\">\r\n                        <h3>\r\n                            <Link to=\"/Tasks/new\">New Task</Link>\r\n                        </h3>\r\n                    </div>\r\n\r\n                    <br/>\r\n                    <div>\r\n                        <button className=\"horizontalCenterDeleteBtn\"\r\n                                onClick={(e) =>\r\n                                    this.deleteTask()\r\n                                }>\r\n                            delete task\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default TaskPage;","/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/CategoryPage.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/CategoriesPage.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/TasksPage.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/NewTask.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/TasksLink.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/CategoriesLink.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/CategoriesContainer.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/FormatDateFunction.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/TaskForm.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/NewCategory.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/CategoryForm.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/PageNotFound.js",[],"/mnt/c/Users/dafaq/RubymineProjects/CVWO-assignment/cvwo-app/src/components/MiniCategoryForm.js",[],["80","81"],{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","replacedBy":"85"},{"ruleId":"86","severity":1,"message":"87","line":120,"column":30,"nodeType":"88","endLine":120,"endColumn":35},{"ruleId":"82","replacedBy":"89"},{"ruleId":"84","replacedBy":"90"},"no-native-reassign",["91"],"no-negated-in-lhs",["92"],"jsx-a11y/heading-has-content","Headings must have content and the content must be accessible by a screen reader.","JSXOpeningElement",["91"],["92"],"no-global-assign","no-unsafe-negation"]